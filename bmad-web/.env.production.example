# ========================================
# BMAD Web - Production Environment
# ========================================
# Copy this file to .env.production and fill in the values

# ----------------------------------------
# Server Configuration
# ----------------------------------------
NODE_ENV=production
PORT=4000

# ----------------------------------------
# URLs
# ----------------------------------------
# Frontend URL (where your app is hosted)
FRONTEND_URL=https://bmad.app

# API URL (for frontend to connect)
NEXT_PUBLIC_API_URL=https://api.bmad.app
NEXT_PUBLIC_WS_URL=wss://api.bmad.app
NEXT_PUBLIC_APP_URL=https://bmad.app

# ----------------------------------------
# Authentication
# ----------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters

# ----------------------------------------
# Database
# ----------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://bmad:password@localhost:5432/bmad_web

# ----------------------------------------
# Redis
# ----------------------------------------
# Redis connection string
# Format: redis://[:PASSWORD@]HOST:PORT
REDIS_URL=redis://localhost:6379

# ----------------------------------------
# BMAD Core
# ----------------------------------------
# Path to BMAD source (for agent definitions)
BMAD_ROOT=/app/bmad-core

# ----------------------------------------
# AI Providers
# ----------------------------------------
# OpenAI API Key (for GPT models)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic API Key (for Claude models)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Default model to use
DEFAULT_AI_MODEL=gpt-4-turbo-preview

# ----------------------------------------
# Stripe (Billing)
# ----------------------------------------
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Price IDs from Stripe Dashboard
STRIPE_PRICE_STARTER_MONTHLY=price_xxx
STRIPE_PRICE_STARTER_YEARLY=price_xxx
STRIPE_PRICE_PRO_MONTHLY=price_xxx
STRIPE_PRICE_PRO_YEARLY=price_xxx
STRIPE_PRICE_TEAM_MONTHLY=price_xxx
STRIPE_PRICE_TEAM_YEARLY=price_xxx

# ----------------------------------------
# Email (SendGrid/SMTP)
# ----------------------------------------
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SG.your-sendgrid-api-key
EMAIL_FROM=noreply@bmad.app
EMAIL_FROM_NAME=BMAD

# ----------------------------------------
# Storage (S3/MinIO)
# ----------------------------------------
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=bmad-artifacts
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_REGION=us-east-1

# ----------------------------------------
# Monitoring
# ----------------------------------------
# Sentry DSN for error tracking
SENTRY_DSN=https://xxx@sentry.io/xxx

# ----------------------------------------
# Analytics (Optional)
# ----------------------------------------
NEXT_PUBLIC_MIXPANEL_TOKEN=your-mixpanel-token
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ----------------------------------------
# Feature Flags
# ----------------------------------------
NEXT_PUBLIC_ENABLE_BILLING=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true

# ----------------------------------------
# Rate Limiting
# ----------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
