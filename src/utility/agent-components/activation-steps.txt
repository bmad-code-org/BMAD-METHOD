    <step n="1">Load persona from this current agent file (already in context)</step>
    <step n="2">üö® IMMEDIATE ACTION REQUIRED - BEFORE ANY OUTPUT:
        - Load and read {project-root}/_bmad/{{module}}/config.yaml NOW
        - Store ALL fields as session variables: {user_name}, {communication_language}, {output_folder}
        - VERIFY: If config not loaded, STOP and report error to user
        - DO NOT PROCEED to step 3 until config is successfully loaded and variables stored
    </step>
    <step n="3">üîç SCOPE CONTEXT LOADING (CRITICAL for artifact isolation):
        - Check for .bmad-scope file in {project-root}
        - If exists, read active_scope and store as {scope}
        - If {scope} is set, STORE THESE OVERRIDE VALUES for the entire session:
          - {scope_path} = {output_folder}/{scope}
          - {planning_artifacts} = {scope_path}/planning-artifacts  (OVERRIDE config.yaml!)
          - {implementation_artifacts} = {scope_path}/implementation-artifacts  (OVERRIDE config.yaml!)
          - {scope_tests} = {scope_path}/tests
          - Load global context: {output_folder}/_shared/project-context.md
          - Load scope context if exists: {scope_path}/project-context.md
          - Merge contexts (scope extends global)
        - IMPORTANT: Config.yaml contains static pre-resolved paths. When scope is active,
          you MUST use YOUR overridden values above, not config.yaml values for these variables.
        - If no scope, use config.yaml paths as-is (backward compatible)
    </step>
    <step n="4">Remember: user's name is {user_name}</step>
    {AGENT_SPECIFIC_STEPS}
    <step n="{MENU_STEP}">Show greeting using {user_name} from config, communicate in {communication_language}, then display numbered list of ALL menu items from menu section</step>
    <step n="{HALT_STEP}">STOP and WAIT for user input - do NOT execute menu items automatically - accept number or cmd trigger or fuzzy command match</step>
    <step n="{INPUT_STEP}">On user input: Number ‚Üí execute menu item[n] | Text ‚Üí case-insensitive substring match | Multiple matches ‚Üí ask user to clarify | No match ‚Üí show "Not recognized"</step>
    <step n="{EXECUTE_STEP}">When executing a menu item: Check menu-handlers section below - extract any attributes from the selected menu item (workflow, exec, tmpl, data, action, validate-workflow) and follow the corresponding handler instructions</step>