# Platform Migration Mappings
# Maps common automation platform concepts to n8n equivalents

# Zapier to n8n mappings
zapier:
  triggers:
    "New Email":
      n8n_node: "n8n-nodes-base.emailTrigger"
      notes: "Configure IMAP/POP3 credentials"
    "Webhook":
      n8n_node: "n8n-nodes-base.webhook"
      notes: "Use POST method by default"
    "Schedule":
      n8n_node: "n8n-nodes-base.scheduleTrigger"
      notes: "Convert Zapier schedule format to cron"
    "New Row in Google Sheets":
      n8n_node: "n8n-nodes-base.googleSheetsTrigger"
      notes: "Requires Google OAuth credentials"
    "New Slack Message":
      n8n_node: "n8n-nodes-base.slackTrigger"
      notes: "Configure channel and event type"

  actions:
    "Send Email":
      n8n_node: "n8n-nodes-base.emailSend"
      notes: "Configure SMTP credentials"
    "HTTP Request":
      n8n_node: "n8n-nodes-base.httpRequest"
      notes: "Map method, URL, headers, and body"
    "Create Google Sheets Row":
      n8n_node: "n8n-nodes-base.googleSheets"
      parameters:
        operation: "append"
    "Send Slack Message":
      n8n_node: "n8n-nodes-base.slack"
      parameters:
        operation: "post"
        resource: "message"
    "Delay":
      n8n_node: "n8n-nodes-base.wait"
      notes: "Convert delay duration to milliseconds"
    "Filter":
      n8n_node: "n8n-nodes-base.if"
      notes: "Convert filter conditions to IF node logic"
    "Formatter":
      n8n_node: "n8n-nodes-base.set"
      notes: "Use Set node for data transformation"
    "Code":
      n8n_node: "n8n-nodes-base.code"
      notes: "JavaScript or Python code execution"

  concepts:
    "Multi-step Zap":
      n8n_equivalent: "Linear workflow with connected nodes"
    "Paths":
      n8n_equivalent: "IF node with multiple branches"
    "Filters":
      n8n_equivalent: "IF node with conditions"
    "Formatter":
      n8n_equivalent: "Set node or Code node"
    "Looping":
      n8n_equivalent: "Split In Batches node"

# Make (Integromat) to n8n mappings
make:
  triggers:
    "Webhook":
      n8n_node: "n8n-nodes-base.webhook"
      notes: "Direct equivalent"
    "Watch Records":
      n8n_node: "n8n-nodes-base.scheduleTrigger"
      notes: "Combine with polling logic in Code node"
    "Custom Webhook":
      n8n_node: "n8n-nodes-base.webhook"
      notes: "Configure response mode"

  actions:
    "HTTP Request":
      n8n_node: "n8n-nodes-base.httpRequest"
      notes: "Map all HTTP parameters"
    "Router":
      n8n_node: "n8n-nodes-base.switch"
      notes: "Multiple conditional branches"
    "Iterator":
      n8n_node: "n8n-nodes-base.splitInBatches"
      notes: "Process array items individually"
    "Aggregator":
      n8n_node: "n8n-nodes-base.merge"
      notes: "Combine data from multiple sources"
    "Data Store":
      n8n_node: "n8n-nodes-base.redis"
      notes: "Use Redis or database node for storage"
    "JSON Parser":
      n8n_node: "n8n-nodes-base.code"
      notes: "Parse JSON in Code node"
    "Text Parser":
      n8n_node: "n8n-nodes-base.set"
      notes: "Use expressions for text manipulation"

  concepts:
    "Scenario":
      n8n_equivalent: "Workflow"
    "Module":
      n8n_equivalent: "Node"
    "Route":
      n8n_equivalent: "Connection"
    "Filter":
      n8n_equivalent: "IF node"
    "Router":
      n8n_equivalent: "Switch node or multiple IF nodes"
    "Iterator":
      n8n_equivalent: "Split In Batches node"
    "Aggregator":
      n8n_equivalent: "Merge node"

# HubSpot Workflows to n8n mappings
hubspot:
  triggers:
    "Contact Property Change":
      n8n_node: "n8n-nodes-base.hubspotTrigger"
      notes: "Configure webhook for property updates"
    "Deal Stage Change":
      n8n_node: "n8n-nodes-base.hubspotTrigger"
      notes: "Monitor deal pipeline changes"
    "Form Submission":
      n8n_node: "n8n-nodes-base.hubspotTrigger"
      notes: "Webhook for form submissions"
    "List Membership":
      n8n_node: "n8n-nodes-base.scheduleTrigger"
      notes: "Poll HubSpot API for list changes"

  actions:
    "Update Contact Property":
      n8n_node: "n8n-nodes-base.hubspot"
      parameters:
        resource: "contact"
        operation: "update"
    "Create Deal":
      n8n_node: "n8n-nodes-base.hubspot"
      parameters:
        resource: "deal"
        operation: "create"
    "Send Email":
      n8n_node: "n8n-nodes-base.hubspot"
      parameters:
        resource: "email"
        operation: "send"
    "Add to List":
      n8n_node: "n8n-nodes-base.hubspot"
      parameters:
        resource: "contact"
        operation: "addToList"
    "Create Task":
      n8n_node: "n8n-nodes-base.hubspot"
      parameters:
        resource: "task"
        operation: "create"

  concepts:
    "Enrollment Trigger":
      n8n_equivalent: "Trigger node (webhook or schedule)"
    "If/Then Branch":
      n8n_equivalent: "IF node"
    "Delay":
      n8n_equivalent: "Wait node"
    "Goal":
      n8n_equivalent: "IF node checking completion criteria"
    "Re-enrollment":
      n8n_equivalent: "Workflow settings with loop detection"

# Microsoft Power Automate to n8n mappings
power_automate:
  triggers:
    "When an item is created":
      n8n_node: "n8n-nodes-base.webhook"
      notes: "Configure webhook for item creation events"
    "Recurrence":
      n8n_node: "n8n-nodes-base.scheduleTrigger"
      notes: "Convert recurrence pattern to cron"
    "When a HTTP request is received":
      n8n_node: "n8n-nodes-base.webhook"
      notes: "Direct equivalent"

  actions:
    "HTTP":
      n8n_node: "n8n-nodes-base.httpRequest"
      notes: "Map all HTTP parameters"
    "Condition":
      n8n_node: "n8n-nodes-base.if"
      notes: "Convert condition logic"
    "Apply to each":
      n8n_node: "n8n-nodes-base.splitInBatches"
      notes: "Process array items"
    "Compose":
      n8n_node: "n8n-nodes-base.set"
      notes: "Data transformation"
    "Parse JSON":
      n8n_node: "n8n-nodes-base.code"
      notes: "Parse JSON in Code node"
    "Delay":
      n8n_node: "n8n-nodes-base.wait"
      notes: "Convert delay duration"

  concepts:
    "Flow":
      n8n_equivalent: "Workflow"
    "Action":
      n8n_equivalent: "Node"
    "Condition":
      n8n_equivalent: "IF node"
    "Switch":
      n8n_equivalent: "Switch node"
    "Scope":
      n8n_equivalent: "Error handling with try/catch in Code node"
    "Apply to each":
      n8n_equivalent: "Split In Batches node"

# Common patterns across platforms
common_patterns:
  conditional_logic:
    description: "If/then/else branching"
    n8n_implementation: "IF node with true/false branches"

  loops:
    description: "Iterate over array items"
    n8n_implementation: "Split In Batches node"

  data_transformation:
    description: "Transform, format, or map data"
    n8n_implementation: "Set node or Code node"

  error_handling:
    description: "Handle errors and retries"
    n8n_implementation: "Node settings: continueOnFail, retryOnFail, maxTries"

  delays:
    description: "Wait before next action"
    n8n_implementation: "Wait node with duration"

  webhooks:
    description: "Receive HTTP requests"
    n8n_implementation: "Webhook node with response configuration"

  api_calls:
    description: "Make HTTP requests to APIs"
    n8n_implementation: "HTTP Request node"

  parallel_execution:
    description: "Execute multiple actions simultaneously"
    n8n_implementation: "Multiple connections from single node"

  merge_data:
    description: "Combine data from multiple sources"
    n8n_implementation: "Merge node"

# Migration considerations
migration_notes:
  authentication:
    - "Recreate all credentials in n8n"
    - "OAuth flows may need re-authorization"
    - "API keys and tokens must be securely stored"

  scheduling:
    - "Convert platform-specific schedules to cron expressions"
    - "Consider timezone differences"
    - "Test schedule triggers before going live"

  data_formats:
    - "Verify JSON structure compatibility"
    - "Check date/time format conversions"
    - "Validate data type mappings"

  error_handling:
    - "Implement retry logic where needed"
    - "Add error notification workflows"
    - "Test failure scenarios"

  testing:
    - "Test with sample data first"
    - "Verify all integrations work correctly"
    - "Monitor initial executions closely"
    - "Compare outputs with original platform"
