git checkout -b add-debug-agent-for-pr-573                          
Switched to a new branch 'add-debug-agent-for-pr-573'


✗ test\fixtures\agent-schema\invalid\metadata\core-agent-with-module.agent.yaml
  Expected validation to FAIL but it PASSED

✗ test\fixtures\agent-schema\valid\metadata\empty-module-name-in-path.agent.yaml
  Expected validation to PASS but it FAILED: module-scoped agents must declare agent.metadata.module
  
  
test\test-agent-schema.js

  you want to replace
const lines = content.split('\n');
with
const lines = content.split('\n').map(line => line.replace(/\r$/g, ''));

but we should check the file for having only \n or also \r
also files may or may not be in utf8 or other code format,

can you make a separate function to test this, and improve the implementation
with \n or \r\n

git cherry-pick ae50bac85849a865ccd6ad54bb0a432a8e254b71
